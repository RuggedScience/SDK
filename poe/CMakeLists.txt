include(GenerateExportHeader)
include_directories("${PROJECT_BINARY_DIR}")
set(poesrc poe.cpp controllers/pd69104.cpp ../utils/tinyxml2.cpp)
add_library(rspoe SHARED ${poesrc})
add_library(rspoe-static STATIC ${poesrc})
set_property(TARGET rspoe PROPERTY POSITION_INDEPENDENT_CODE 1)
set_property(TARGET rspoe-static PROPERTY POSITION_INDEPENDENT_CODE 1)

generate_export_header(rspoe)
set_target_properties(rspoe PROPERTIES COMPILE_FLAGS -DBUILD_RSPOE_SHARED)
set_target_properties(rspoe-static PROPERTIES COMPILE_FLAGS -DRSPOE_STATIC_DEFINE)