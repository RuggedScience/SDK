include(GenerateExportHeader)
include_directories("${PROJECT_BINARY_DIR}")
set(diosrc dio.cpp controllers/ite8783.cpp controllers/ite8786.cpp ../utils/tinyxml2.cpp)
add_library(rsdio SHARED ${diosrc})
add_library(rsdio-static STATIC ${diosrc})
set_property(TARGET rsdio PROPERTY POSITION_INDEPENDENT_CODE 1)
set_property(TARGET rsdio-static PROPERTY POSITION_INDEPENDENT_CODE 1)

generate_export_header(rsdio)
set_target_properties(rsdio PROPERTIES COMPILE_FLAGS -DBUILD_RSDIO_SHARED)
set_target_properties(rsdio-static PROPERTIES COMPILE_FLAGS -DRSDIO_STATIC_DEFINE)